(()=>{"use strict";var e={d:(t,o)=>{for(var a in o)e.o(o,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:o[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{J:()=>r});class t{static fromJson({tarea:e,id:o,completado:a,fecha_creado:l}){const s=new t(e);return this.id=o,this.completado=a,this.fecha_creado=l,s}constructor(e){this.tarea=e,this.id=(new Date).getTime(),this.completado=!1,this.fecha_creado=new Date}imprimir_clase(){console.log(`${this.tarea}- ${this.id}`)}}const o=document.querySelector(".todo-list"),a=document.querySelector(".new-todo"),l=document.querySelector(".clear-completed"),s=document.querySelector(".filters"),c=document.querySelectorAll(".filtro"),i=e=>{const t=`<li class="${e.completado?"completed":""}" data-id="${e.id}">\n    <div class="view">\n        <input class="toggle" type="checkbox" ${e.completado?"checked":""}>\n        <label>${e.tarea}</label>\n        <button class="destroy"></button>\n    </div>\n    <input class="edit" value="Create a TodoMVC template">\n    </li> `,a=document.createElement("div");return a.innerHTML=t,o.append(a.firstElementChild),a.firstElementChild};a.addEventListener("keyup",(e=>{if(13===e.keyCode&&""!=a.value){const e=new t(a.value);r.nuevo_to_do(e),i(e)}})),o.addEventListener("click",(e=>{const t=e.target.localName,a=e.target.parentElement.parentElement,l=a.getAttribute("data-id");"input"==t?(r.marcar_completado(l),a.classList.toggle("completed")):"button"==t&&(r.eliminar_to_do(l),o.removeChild(a))})),l.addEventListener("click",(()=>{r.eliminar_completados();for(let e=o.children.length-1;e>=0;e--){const t=o.children[e];console.log(o.children[e]),t.classList.contains("completed")&&o.removeChild(t)}})),s.addEventListener("click",(e=>{const t=e.target.text;if(e.target.text){c.forEach((e=>e.classList.remove("selected"))),e.target.classList.add("selected");for(const e of o.children){e.classList.remove("hidden");const o=e.classList.contains("completed");switch(t){case"Pendientes":o&&e.classList.add("hidden");break;case"Completados":o||e.classList.add("hidden")}}}}));const r=new class{constructor(){this.cargar_de_localStorage()}nuevo_to_do(e){this.list.push(e),this.guardar_en_localStorage()}eliminar_to_do(e){this.list=this.list.filter((t=>t.id!=e)),this.guardar_en_localStorage()}marcar_completado(e){const t=this.list.find((t=>t.id==e));t.completado?t.completado=!1:t.completado=!0,console.log(t),this.guardar_en_localStorage()}eliminar_completados(){this.list=this.list.filter((e=>!e.completado)),this.guardar_en_localStorage()}guardar_en_localStorage(){localStorage.setItem("To_dos",JSON.stringify(this.list))}cargar_de_localStorage(){this.list=localStorage.getItem("To_dos")?JSON.parse(localStorage.getItem("To_dos")):[],this.list=this.list.map((e=>t.fromJson(e)))}};console.log(r.list),r.list.forEach((e=>i(e)))})();